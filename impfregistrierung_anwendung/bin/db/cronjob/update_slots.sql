-- Alte Buchungen und Slots löschen
DELETE FROM buchung WHERE slot_id IN (SELECT id FROM slot WHERE slot_date < CURDATE());
DELETE FROM slot WHERE slot_date < CURDATE();

-- Neue Slots für den nächsten Tag hinzufügen

-- Nemerb-Ost (09:00 - 14:00)
INSERT INTO slot (slot_date, slot_time, impfzentrum_id)
SELECT CURDATE() + INTERVAL 7 DAY, t.time, i.id
FROM (
    SELECT '09:00:00' AS time UNION ALL
    SELECT '09:15:00' UNION ALL
    SELECT '09:30:00' UNION ALL
    SELECT '09:45:00' UNION ALL
    SELECT '10:00:00' UNION ALL
    SELECT '10:15:00' UNION ALL
    SELECT '10:30:00' UNION ALL
    SELECT '10:45:00' UNION ALL
    SELECT '11:00:00' UNION ALL
    SELECT '11:15:00' UNION ALL
    SELECT '11:30:00' UNION ALL
    SELECT '11:45:00' UNION ALL
    SELECT '12:00:00' UNION ALL
    SELECT '12:15:00' UNION ALL
    SELECT '12:30:00' UNION ALL
    SELECT '12:45:00' UNION ALL
    SELECT '13:00:00' UNION ALL
    SELECT '13:15:00' UNION ALL
    SELECT '13:30:00' UNION ALL
    SELECT '13:45:00' UNION ALL
    SELECT '14:00:00'
) t
JOIN impfzentrum i ON i.name = 'Nemerb-Ost';

-- Nemerb-West (10:00 - 16:00)
INSERT INTO slot (slot_date, slot_time, impfzentrum_id)
SELECT CURDATE() + INTERVAL 7 DAY, t.time, i.id
FROM (
    SELECT '10:00:00' AS time UNION ALL
    SELECT '10:15:00' UNION ALL
    SELECT '10:30:00' UNION ALL
    SELECT '10:45:00' UNION ALL
    SELECT '11:00:00' UNION ALL
    SELECT '11:15:00' UNION ALL
    SELECT '11:30:00' UNION ALL
    SELECT '11:45:00' UNION ALL
    SELECT '12:00:00' UNION ALL
    SELECT '12:15:00' UNION ALL
    SELECT '12:30:00' UNION ALL
    SELECT '12:45:00' UNION ALL
    SELECT '13:00:00' UNION ALL
    SELECT '13:15:00' UNION ALL
    SELECT '13:30:00' UNION ALL
    SELECT '13:45:00' UNION ALL
    SELECT '14:00:00' UNION ALL
    SELECT '14:15:00' UNION ALL
    SELECT '14:30:00' UNION ALL
    SELECT '14:45:00' UNION ALL
    SELECT '15:00:00' UNION ALL
    SELECT '15:15:00' UNION ALL
    SELECT '15:30:00' UNION ALL
    SELECT '15:45:00' UNION ALL
    SELECT '16:00:00'
) t
JOIN impfzentrum i ON i.name = 'Nemerb-West';

-- Nemerb-Nord (08:30 - 12:30)
INSERT INTO slot (slot_date, slot_time, impfzentrum_id)
SELECT CURDATE() + INTERVAL 7 DAY, t.time, i.id
FROM (
    SELECT '08:30:00' AS time UNION ALL
    SELECT '08:45:00' UNION ALL
    SELECT '09:00:00' UNION ALL
    SELECT '09:15:00' UNION ALL
    SELECT '09:30:00' UNION ALL
    SELECT '09:45:00' UNION ALL
    SELECT '10:00:00' UNION ALL
    SELECT '10:15:00' UNION ALL
    SELECT '10:30:00' UNION ALL
    SELECT '10:45:00' UNION ALL
    SELECT '11:00:00' UNION ALL
    SELECT '11:15:00' UNION ALL
    SELECT '11:30:00' UNION ALL
    SELECT '11:45:00' UNION ALL
    SELECT '12:00:00' UNION ALL
    SELECT '12:15:00' UNION ALL
    SELECT '12:30:00'
) t
JOIN impfzentrum i ON i.name = 'Nemerb-Nord';

-- Nemerb-Sued (11:00 - 15:30)
INSERT INTO slot (slot_date, slot_time, impfzentrum_id)
SELECT CURDATE() + INTERVAL 7 DAY, t.time, i.id
FROM (
    SELECT '11:00:00' AS time UNION ALL
    SELECT '11:15:00' UNION ALL
    SELECT '11:30:00' UNION ALL
    SELECT '11:45:00' UNION ALL
    SELECT '12:00:00' UNION ALL
    SELECT '12:15:00' UNION ALL
    SELECT '12:30:00' UNION ALL
    SELECT '12:45:00' UNION ALL
    SELECT '13:00:00' UNION ALL
    SELECT '13:15:00' UNION ALL
    SELECT '13:30:00' UNION ALL
    SELECT '13:45:00' UNION ALL
    SELECT '14:00:00' UNION ALL
    SELECT '14:15:00' UNION ALL
    SELECT '14:30:00' UNION ALL
    SELECT '14:45:00' UNION ALL
    SELECT '15:00:00' UNION ALL
    SELECT '15:15:00' UNION ALL
    SELECT '15:30:00'
) t
JOIN impfzentrum i ON i.name = 'Nemerb-Sued';

